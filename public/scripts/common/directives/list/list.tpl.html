<div class="list">
  <div class="list__header" ui-tree-handle>
    <div class="list__control" ng-hide="vm.visibleEditTitle">
      <h4 class="list__header__text" ng-bind="vm.data.title"></h4>
      <div click-outside="vm.closeDropdown()">
        <div class="list__settings" ng-click="vm.showDropdown = !vm.showDropdown" data-nodrag >
          <svg enable-background="new 0 0 24 24" id="Layer_1" version="1.0" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <circle cx="12" cy="12" r="2"/><circle cx="12" cy="5" r="2"/><circle cx="12" cy="19" r="2"/>
          </svg>
          <ul class="dropdown-menu list__dropdown" ng-show="vm.showDropdown">
            <li><a href="" ng-click="vm.visibleEditTitle = true">Edit title</a></li>
            <li><a href="" ng-click="vm.removeList()">Remove list</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="well well-sm list__edit-title" ng-show="vm.visibleEditTitle" data-nodrag>
      <form name="listTitleForm">
        <input type="text"
               class="list__new__input"
               ng-model="vm.data.title"
               custom-focus="vm.focusOn"
               required>
        <div class="list__new__controll">
          <button type="button" class="btn btn-success card__new__add" ng-click="vm.saveNewTitle(listTitleForm.$valid)">Save</button>
          <button type="button" class="close card__new__close" aria-label="Close" ng-click="vm.cancelEditTitle()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      </form>
    </div>
  </div>
  <!-- /.list__header -->
  <div class="list__cards">
    <div ui-tree-nodes="" ng-model="vm.data.cards" class="card__placeholder">
      <card ng-repeat="card in vm.data.cards"
            data="card"
            list-id="vm.data._id"
            reload="vm.reloadCard()"
            ng-hide="vm.filterCard(card)"
            ui-tree-node></card>
    </div>
    <!-- /.list__card -->
    <div class="card__new" ng-show="vm.visibleNewCard">
      <div class="panel panel-default panel-default--margin">
        <div class="panel-body">
          <textarea class="card__new__textarea" ng-model="vm.newCardsText" custom-focus="vm.focusOn"></textarea>
        </div>
      </div>
      <div class="card__new__controll">
        <button type="button" class="btn btn-success card__new__add" ng-click="vm.createNewCard()">Add</button>
        <button type="button" class="close card__new__close" aria-label="Close" ng-click="vm.visibleNewCard = false">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </div>
  </div>
  <!-- /.list__cards -->
  <div class="list__footer">
    <a href="" ng-click="vm.showNewCardInput()" ng-hide="vm.visibleNewCard">Add a card...</a>
  </div>
  <!-- /.list__footer -->
</div>
